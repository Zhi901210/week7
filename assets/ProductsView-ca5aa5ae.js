import{_ as b,e as m,r as f,o,c as n,d as t,F as r,f as k,n as P,t as l,g as c,b as y,w as v,a as _}from"./index-ffdd9d06.js";const{VITE_APP_URL:d,VITE_APP_PATH:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"qqq-api",BASE_URL:"/week7/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{products:[]}},components:{RouterLink:m},methods:{getProducts(){this.$http.get(`${d}/v2/api/${u}/products/all`).then(s=>{console.log(s),this.products=s.data.products}).catch(s=>{console.log(s)})},addToCart(s){const i={product_id:s,qty:1};this.$http.post(`${d}/v2/api/${u}/cart`,{data:i}).then(a=>{console.log(a)}).catch(a=>{console.log(a)})}},mounted(){this.getProducts()}},V=t("h1",null,"這是產品頁面",-1),T={class:"container"},x={class:"table align-middle"},E=t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"商品名稱"),t("th",null,"價格"),t("th")])],-1),A={style:{width:"200px"}},C={key:0,class:"h5"},L={key:1,class:"h6"},R={key:2,class:"h5"},w={class:"btn-group btn-group-sm"},I=t("button",{type:"button",class:"btn btn-outline-secondary"},[t("i",{class:"fas fa-spinner fa-pulse"}),_(" 查看更多 ")],-1),q=["onClick"],B=t("i",{class:"fas fa-spinner fa-pulse"},null,-1);function D(s,i,a,N,h,p){const g=f("RouterLink");return o(),n(r,null,[V,t("div",T,[t("table",x,[E,t("tbody",null,[(o(!0),n(r,null,k(h.products,e=>(o(),n("tr",{key:e.id},[t("td",A,[t("div",{style:P([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)]),t("td",null,l(e.title),1),t("td",null,[e.price?c("",!0):(o(),n("div",C,l(e.price)+" 元",1)),e.price?(o(),n("del",L,"原價 "+l(e.origin_price)+" 元",1)):c("",!0),e.price?(o(),n("div",R,"現在只要 "+l(e.price)+" 元",1)):c("",!0)]),t("td",null,[t("div",w,[y(g,{to:`/product/${e.id}`},{default:v(()=>[I]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger",onClick:U=>p.addToCart(e.id)},[B,_(" 加到購物車 ")],8,q)])])]))),128))])])])],64)}const z=b($,[["render",D]]);export{z as default};
